.customer-dialog {
  .dialog-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px;
    border-bottom: 1px solid #e0e0e0;

    h2 {
      margin: 0;
      font-size: 1.5rem;
      font-weight: 500;
      color: #1a1a1a;
    }

    .close-btn {
      margin: -8px -8px -8px 0;
    }
  }

  .dialog-content {
    padding: 24px;
    max-height: 70vh;
    overflow-y: auto;

    .loading-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 20px;
      color: #666;

      p {
        margin-top: 16px;
        font-size: 1rem;
      }
    }

    .customer-form {
      .form-section {
        margin-bottom: 32px;

        &:last-child {
          margin-bottom: 0;
        }

        .section-title {
          margin: 0 0 20px 0;
          font-size: 1.1rem;
          font-weight: 500;
          color: #333;
          display: flex;
          align-items: center;
          gap: 8px;

          &::before {
            content: '';
            width: 4px;
            height: 20px;
            background: #1976d2;
            border-radius: 2px;
          }
        }

        .company-field-row {
          display: flex;
          gap: 12px;
          align-items: flex-start;

          .company-field {
            flex: 1;
          }

          .add-company-btn {
            height: 56px;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;

            mat-icon {
              font-size: 20px;
              width: 20px;
              height: 20px;
            }
          }
        }

        .company-option {
          display: flex;
          flex-direction: column;
          gap: 4px;
          padding: 4px 0;

          .company-name {
            font-weight: 500;
            color: #1a1a1a;
          }

          .company-country {
            font-size: 0.85rem;
            color: #666;
          }
        }

        .selected-company-info {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: #e8f5e9;
          border-radius: 8px;
          color: #2e7d32;
          margin-top: 12px;

          mat-icon {
            font-size: 20px;
            width: 20px;
            height: 20px;
          }

          strong {
            font-weight: 600;
          }
        }

        .form-row {
          margin-bottom: 16px;

          &:last-child {
            margin-bottom: 0;
          }

          &.form-row-2-cols {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
          }

          &.pallet-group-row {
            display: flex;
            gap: 12px;
            align-items: flex-start;

            .pallet-group-field {
              flex: 1;
            }

            .add-pallet-group-btn {
              height: 56px;
              display: flex;
              align-items: center;
              gap: 8px;
              white-space: nowrap;
              flex-shrink: 0;

              mat-icon {
                font-size: 20px;
                width: 20px;
                height: 20px;
              }
            }
          }

          mat-slide-toggle {
            margin: 8px 0;
          }

          .full-width {
            width: 100%;
          }

          .pallet-group-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            width: 100%;

            .group-name {
              font-weight: 500;
              color: #1a1a1a;
            }

            .pallet-count {
              font-size: 0.85rem;
              color: #666;
              background: #f5f5f5;
              padding: 2px 8px;
              margin-left: 1px;
              border-radius: 12px;
            }
          }

          .empty-option {
            color: #999;
            font-style: italic;
          }
        }
      }
    }
  }

  .dialog-actions {
    padding: 16px 24px;
    border-top: 1px solid #e0e0e0;
    display: flex;
    justify-content: flex-end;
    gap: 12px;

    button {
      min-width: 100px;
      height: 42px;

      .button-spinner {
        display: inline-block;
        margin-right: 8px;
      }
    }
  }

  // Responsive
  @media (max-width: 600px) {
    .dialog-content {
      .customer-form {
        .form-section {
          .company-field-row {
            flex-direction: column;

            .add-company-btn {
              width: 100%;
              height: 48px;
            }
          }

          .form-row.form-row-2-cols {
            grid-template-columns: 1fr;
          }

          .form-row.pallet-group-row {
            flex-direction: column;

            .add-pallet-group-btn {
              width: 100%;
              height: 48px;
              justify-content: center;
            }
          }
        }
      }
    }
  }
}

// Material overrides
::ng-deep {
  .customer-dialog {
    .mat-mdc-dialog-container {
      --mdc-dialog-container-shape: 12px;
    }

    .mat-mdc-form-field {
      .mat-mdc-text-field-wrapper {
        padding: 0;
      }
    }

    .mat-mdc-slide-toggle {
      .mdc-switch {
        --mdc-switch-selected-handle-color: #1976d2;
        --mdc-switch-selected-track-color: #1976d2;
      }
    }
  }
}
